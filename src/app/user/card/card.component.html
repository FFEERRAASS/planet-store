<app-navbar></app-navbar>
<!-- Start Hero Section -->
<!-- <div class="hero">
    <div class="container">
        <div class="row justify-content-between">
            <div class="col-lg-5">
                <div class="intro-excerpt">
                    <h1>Cart</h1>
                </div>
            </div>
            <div class="col-lg-7">
                
            </div>
        </div>
    </div>
</div> -->
<!-- End Hero Section -->



<div class="untree_co-section before-footer-section">
<div class="container">
  <div class="row mb-5">
    <form class="col-md-12" >
      <div class="site-blocks-table">
        <table class="table">
          <thead>
            <tr>
              <th class="product-thumbnail">Image</th>
              <th class="product-name">Product</th>
              <th class="product-price">Price</th>
              <th class="product-quantity">Quantity</th>
              <th class="product-total">Total</th>
              <th class="product">Remove</th>
            </tr>
          </thead>
          <tbody>
          
            <tr *ngFor="let obj of userService.informationInCard" >
              <td class="product-thumbnail">
                <img src="../../assets/uploadImage/{{obj.productImage1}}" alt="Image" class="img-fluid">
              </td>
              <td class="product-name">
                <h2 class="h5 text-black">{{obj.productName}}</h2>
              </td>
              <td>{{ obj.productPrice.length > 5 ? obj.productPrice.substring(0,6) : obj.productPrice }}</td>
              <td>
                <div class="input-group mb-3 d-flex align-items-center quantity-container" style="max-width: 120px;">
                  <div class="input-group-prepend">
                    <button class="btn btn-outline-black decrease" type="button" (click)="decreaseQuantity(obj.sbasketId,obj.quantity)">&minus;</button>
                  </div>
                  <h4 style="border: 1px solid white; border-radius: 10px; padding: 5px 10px; background-color: #f9f9f9; box-shadow: rgba(0, 0, 0, 0.07) 0px 1px 2px, rgba(0, 0, 0, 0.07) 0px 2px 4px, rgba(0, 0, 0, 0.07) 0px 4px 8px, rgba(0, 0, 0, 0.07) 0px 8px 16px, rgba(0, 0, 0, 0.07) 0px 16px 32px, rgba(0, 0, 0, 0.07) 0px 32px 64px;">{{ obj.quantity }}</h4>
                  <div class="input-group-append">
                    <button class="btn btn-outline-black increase" type="button" (click)="increaseQuantity(obj.sbasketId,obj.quantity)">&plus;</button>
                  </div>
                </div>
              </td> 
              <td>$ {{obj.productPrice * obj.quantity}}</td> 
               <td> <button class="btn btn-secondary me-2" (click)="removeFromCart(obj.sbasketId)"> <i class="fa fa-trash" aria-hidden="true"></i></button> </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="row mb-5">
        <div class="col-md-6 mb-3 mb-md-0">
          <button class="btn btn-secondary me-2" routerLink="/user/previouspurchases">Previous purchases</button>
        </div>
        <div class="col-md-6">
          <button class="btn btn-secondary me-2" routerLink="/user/Product">Continue Shopping</button>
        </div>
      </div>
      <form [formGroup]="CouponForm">
      <div class="row">
        <div class="col-md-12">
          <label class="text-black h4" for="coupon">Coupon</label>
          <p>Enter your coupon code if you have one.</p>
        </div>
        <div class="col-md-8 mb-3 mb-md-0">
          <input type="text" class="form-control py-3" id="coupon" matInput formControlName="couponCode" placeholder="Coupon Code">
        </div>
        <div class="col-md-4">
          <button class="btn btn-secondary me-2" (click)="applyCoupon()">Apply Coupon</button>
        </div>
      </div>
    </form>
    </div>
    
    <div class="col-md-6 pl-5">
      <div class="row justify-content-end">
        <div class="col-md-7">
          <div class="row">
            <div class="col-md-12 text-right border-bottom mb-5">
              <h3 class="text-black h4 text-uppercase">Cart Totals</h3>
            </div>
          </div>
          <div class="row mb-3">
          
          </div>
          <div class="row mb-5">
            <div class="col-md-6">
              <span class="text-black">Total</span>
            </div>
            <div class="col-md-6 text-right">
              <strong class="text-black">$ {{userService.totalPrice.totalPrice > 5 ? userService.totalPrice.totalPrice.substring(0,8) : userService.totalPrice.totalPrice}}</strong>
            </div>
          </div>

          <div class="row">
            <div class="col-md-12">
              <button class="btn btn-secondary me-2" routerLink="/user/Checkout">Proceed To Checkout</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
<app-footer></app-footer>