<app-navbar></app-navbar>
<div class="content-wrapper" style="min-height: 1345.31px;">
  <!-- Content Header (Page header) -->
  <section class="content-header">

    <section class="content">

      <div class="container-fluid">
        <!-- <button class="btn btn-warning" style="margin: 10px 0px 10px 0px;" (click)="filterProduct(0)">On Hold</button> &nbsp;
        <button class="btn btn-danger" style="margin: 10px 0px 10px 0px;" (click)="filterProduct(2)">Rejected products</button>&nbsp;
        <button class="btn btn-success" style="margin: 10px 0px 10px 0px;" (click)="filterProduct(1)">Accepted Products</button> -->
        <button class="btn btn-warning" style="margin: 10px 0px 10px 0px;" (click)="addCategory()">Add Category</button>

        <div class="row">
          <div class="col-md-4" *ngFor="let obj of adminService.allCategory">
            <!-- Widget: user widget style 2 -->
            <div class="card card-widget widget-user-2">
                <div class="widget-user-header bg-warning">
                  <div class="widget-user-image">
                    <img class="img-circle elevation-2" style="width: 150px;height: 150px;" src="../../assets/uploadImage/{{obj.categoryImage}}"
                      *ngIf="obj.categoryImage != null" alt="User Avatar">
                  
            
                  </div>
                  <h3 class="widget-user-username"></h3>
                  <h5 class="widget-user-desc" style="font-family:cursive;">{{obj.categoryName}}</h5>
            
                </div>
                <div class="card-footer p-0">
                  <ul class="nav flex-column">
                    <li class="nav-item">
                      <p class="nav-link" id="descriptionLink" style="min-height: 150px;color: black;">
                        {{ obj.categoryDescription.length <= 300 ? obj.categoryDescription : (obj.categoryDescription |
                          slice:0:300)+'....' }} </p>
                    </li>
            
                    <li class="nav-item">
                      <div style="display: flex; justify-content: center; align-items: center;margin: 5px;">
                         
            
                        <button class="btn bg-gradient-success" style="background-color: #3b5d50;" (click)="editCategory(obj.categoryId)"
                          >Edit</button>
                        &nbsp;
                        <button class="btn bg-gradient-danger" (click)="deleteCategory(obj.categoryId)" >Delete</button>
                        &nbsp;
                        <button class="btn bg-gradient-primary" (click)="showDetails(obj.categoryId)" >Show</button>
                        
                      </div>
                    </li>
            
            
                  </ul>
                </div>
              </div>
          </div>

        </div>
      </div>
    </section>
  </section>
</div>
<app-footer></app-footer>



<ng-template #callCateogyDeatilsDialog>
    <div class="content-wrapper"
      style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: flex-start; background-color: rgba(0, 0, 0, 0.6);min-height: 500px;">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <section class="content">
          <div class="container-fluid">
  
            <div class="card card-success" style="margin-top: 50px;">
  
              <div class="card-header">
  
  
                <h3 class="card-title" style="font-family: cursive;"><i class="fa fa-window-close" aria-hidden="true"
                    (click)="closeDialog()"></i> Category Details</h3>
  
              </div>
  
              <!-- /.card-header -->
              <div class="card-body">
                <!------------------------------------------>
                <div class="card card-widget">
                  <div class="card-header">
                    <div class="user-block">
                      <div class="card">
                        <div class="card-header">
                          <h3 class="card-title"></h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                          <div id="carouselExampleIndicators" style="width: 500px; height: 300px; cursor: pointer;"
                            class="carousel slide" data-ride="carousel">
                            <ol class="carousel-indicators" style="height: 300px;">
                              <li data-target="#carouselExampleIndicators" data-slide-to="0" class=""></li>
                              <li data-target="#carouselExampleIndicators" data-slide-to="1" class="active"></li>
                              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                            </ol>
                            <div class="carousel-inner">
                              <div class="carousel-item">
                                <img class="d-block w-100"
                                  src="../../assets/uploadImage/{{adminService.specificCategory.categoryImage}}"
                                  style="height: 300px; width: 5000px;" alt="First slide">
                              </div>
                              <div class="carousel-item active">
                                <img class="d-block w-100"
                                  src="../../assets/uploadImage/{{adminService.specificCategory.categoryImage}}"
                                  style="height: 300px; width: 500px;" alt="Second slide">
                              </div>
  
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button"
                              data-slide="prev">
                              <span class="carousel-control-custom-icon" aria-hidden="true">
                                <i class="fas fa-chevron-left"></i>
                              </span>
                              <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button"
                              data-slide="next">
                              <span class="carousel-control-custom-icon" aria-hidden="true">
                                <i class="fas fa-chevron-right"></i>
                              </span>
                              <span class="sr-only">Next</span>
                            </a>
                          </div>
                        </div>
                        <!-- /.card-body -->
                      </div>
  
                      <div style="display: flex; justify-content: left; align-items: left">
                        <div>
                          <span class="username">{{adminService.specificCategory.categoryName}}</span>
          
                        </div>
   
  
                      </div>
                    </div>
                    <!-- /.user-block -->
                    <!-- ... -->
                  </div>
                  <!-- ... -->
                </div>
                <!------------------------------------------>
              </div>
              <!-- /.card-body -->
              <div class="card-footer card-comments" style="height: 300;width: 500px;">
                <div class="card-comment">
                  <!-- User image -->
  
  
                  <div class="comment-text">
                    <span class="username">
                      <i class="fa fa-paragraph" aria-hidden="true"></i> Description
                    </span><!-- /.username -->
                    {{adminService.specificCategory.categoryDescription}}
                  </div>
                  <!-- /.comment-text -->
                </div>
  
                <!-- /.card-comment -->
              </div>
            </div>
          </div>
        </section>
      </section>
    </div>
  </ng-template>
  <ng-template #callAddCategoryDialog>
    <div class="content-wrapper"
      style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: flex-start; background-color: rgba(0, 0, 0, 0.6);min-height: 500px;">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <section class="content">
          <div class="container-fluid">
            <div class="card card-success" style="margin-top: 50px;">
              <div class="card-header">
                <h3 class="card-title">Easily add your product</h3>
              </div>
              <!-- /.card-header -->
              <div class="card-body">
                <form [formGroup]="createCategoryForm">
                  <div class="row">
                    <div class="col-sm-6">
                      <!-- text input -->
                      <div class="form-group">
                        <label>Category Name </label>
                        <input type="text" class="form-control" placeholder="Enter ..." matInput
                          formControlName="categoryName">
                      </div>
                    </div>
                    <div class="col-sm-6">
  
                        <div class="form-group">
                          <label for="exampleInputFile">Product Image 2</label>
                          <div class="input-group">
                            <div class="custom-file">
                              <input type="file" formControlName="productImage2" #file (change)="uploadFile(file.files)"
                                class="custom-file-input" id="exampleInputFile">
                              <label class="custom-file-label" for="exampleInputFile">Choose file</label>
                            </div>
                            <div class="input-group-append">
                              <span class="input-group-text">Upload</span>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      <!-- textarea -->
                      <div class="form-group">
                        <label>Category Description</label>
                        <textarea class="form-control" rows="3" matInput formControlName="categoryDescription"
                          placeholder="Enter ..."></textarea>
                      </div>
                    </div>
  
                  </div>
  
                  <!-- input states -->

                  <div style="display: flex; justify-content: center; align-items: center">
                    <button class="btn bg-gradient-success" style="background-color: #3b5d50 ;"
                      (click)="saveCategory()">Save</button>
                    &nbsp;
                    <button class="btn bg-gradient-danger" (click)="closeDialog()">Cancel</button>
                  </div>
  
                </form>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
        </section>
      </section>
    </div>
  </ng-template>
  <ng-template #callUpdateCategoryDialog>
    <div class="content-wrapper"
      style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: flex-start; background-color: rgba(0, 0, 0, 0.6);min-height: 500px;">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <section class="content">
          <div class="container-fluid">
            <div class="card card-success" style="margin-top: 50px;">
              <div class="card-header">
                <h3 class="card-title">Easily add your product</h3>
              </div>
              <!-- /.card-header -->
              <div class="card-body">
                <form [formGroup]="updateCategoryForm">
                  <div class="row">
                    <div class="col-sm-6">
                      <!-- text input -->
                      <div class="form-group">
                        <label>Category Name </label>
                        <input type="text" class="form-control" [(ngModel)]="oldCategoryData.categoryName" placeholder="Enter ..." matInput
                          formControlName="categoryName">
                      </div>
                    </div>
                    <div class="col-sm-6">
  
                        <div class="form-group">
                          <label for="exampleInputFile">Product Image 2</label>
                          <div class="input-group">
                            <div class="custom-file">
                              <input type="file" formControlName="categoryImage" #file (change)="uploadFile(file.files)"
                                class="custom-file-input" id="exampleInputFile">
                              <label class="custom-file-label" for="exampleInputFile">Choose file</label>
                            </div>
                            <div class="input-group-append">
                              <span class="input-group-text">Upload</span>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      <!-- textarea -->
                      <div class="form-group">
                        <label>Category Description</label>
                        <textarea class="form-control"  [(ngModel)]="oldCategoryData.categoryDescription" rows="3" matInput formControlName="categoryDescription"
                          placeholder="Enter ..."></textarea>
                      </div>
                    </div>
  
                  </div>
  
                  <!-- input states -->

                  <div style="display: flex; justify-content: center; align-items: center">
                    <button class="btn bg-gradient-success" style="background-color: #3b5d50 ;"
                      (click)="saveEditCategory()">Update</button>
                    &nbsp;
                    <button class="btn bg-gradient-danger" (click)="closeDialog()">Cancel</button>
                  </div>
  
                </form>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
        </section>
      </section>
    </div>
  </ng-template>